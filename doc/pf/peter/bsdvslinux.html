<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>BSD vs Linux - Configuration</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Firewalling with OpenBSD's PF packet filter
  "
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="PF today"
HREF="pftoday.html"><LINK
REL="NEXT"
TITLE="Simplest possible setup (OpenBSD)"
HREF="simplestconfig.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="docbook.css"><meta
http-equiv="Content-Type"
content="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Firewalling with OpenBSD's PF packet filter</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="pftoday.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="simplestconfig.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="BSDVSLINUX"
></A
>BSD vs Linux - Configuration</H1
><P
>I assume that some of those who read this document are more familiar
with configuring Linux or other systems than with BSD, so I'll briefly
mention a few points about BSD system and network configuration.</P
><P
>BSD network interfaces are not labeled <TT
CLASS="FILENAME"
>eth0</TT
>,
<TT
CLASS="FILENAME"
>eth1</TT
> and so on.  The interfaces are assigned
names which equal the driver name plus a sequence number, making 3Com
cards using the <TT
CLASS="FILENAME"
>xl</TT
> driver appear as
<TT
CLASS="FILENAME"
>xl0</TT
>, <TT
CLASS="FILENAME"
>xl1</TT
>, and so on, while
Some Intel cards are likely to end up as <TT
CLASS="FILENAME"
>em0</TT
>,
<TT
CLASS="FILENAME"
>em1</TT
>, others are supported by the
<TT
CLASS="FILENAME"
>fxp</TT
> driver, and so on.  There may even be slight
variations in which cards are supported in which drivers across the
BSDs.<A
NAME="AEN425"
HREF="#FTN.AEN425"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></P
><P
>For boot-time configuration, the BSDs are generally organized to read
the configuration from <A
HREF="http://man.openbsd.org/rc.conf"
TARGET="_top"
>/etc/rc.conf</A
>, which is
read by the <A
HREF="http://man.openbsd.org/rc"
TARGET="_top"
>/etc/rc</A
> script at startup.  OpenBSD
recommends using <TT
CLASS="FILENAME"
>/etc/rc.conf.local</TT
> for local
customizations, since <TT
CLASS="FILENAME"
>rc.conf</TT
> contains the
default values, while FreeBSD uses
<TT
CLASS="FILENAME"
>/etc/defaults/rc.conf</TT
> to store the default
settings, making <TT
CLASS="FILENAME"
>/etc/rc.conf</TT
> the correct place
to make changes.</P
><P
>PF is configured by editing the <A
HREF="http://man.openbsd.org/pf.conf"
TARGET="_top"
>/etc/pf.conf</A
> file and
by using the <SPAN
CLASS="APPLICATION"
><A
HREF="http://man.openbsd.org/pfctl"
TARGET="_top"
>pfctl</A
></SPAN
> command line tool. The 
<SPAN
CLASS="APPLICATION"
>pfctl</SPAN
> application has a <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>large</I
></SPAN
> 
number of options. We will take a closer look at some of them today.</P
><P
>In case you are wondering, there are web interfaces available for
admin tasks (such as the FreeBSD based <A
HREF="http://pfsense.org/"
TARGET="_top"
>pfSense</A
> and the OpenBSD based and supposedly portable <A
HREF="http://pfpro.sourceforge.net/"
TARGET="_top"
>PfPro</A
>), but they are not parts of the base system.  The PF
developers are not hostile to these things, but rather have not seen
any graphical interface to PF configuration which without a doubt is
preferable to <A
HREF="http://man.openbsd.org/pf.conf"
TARGET="_top"
>pf.conf</A
> in a text editor, backed up
with <SPAN
CLASS="APPLICATION"
><A
HREF="http://man.openbsd.org/pfctl"
TARGET="_top"
>pfctl</A
></SPAN
> invocations and a few unix
tricks.</P
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN425"
HREF="bsdvslinux.html#AEN425"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>When in doubt, consult the output of the <SPAN
CLASS="APPLICATION"
><A
HREF="http://man.openbsd.org/dmesg"
TARGET="_top"
>dmesg</A
></SPAN
> command, which displays the kernel message buffer.  Under most circumstances, the kernel's hardware probing and recognition messages will be intact in the message buffer
for a relatively long time after your system has finished
booting.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="pftoday.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="simplestconfig.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PF today</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Simplest possible setup (OpenBSD)</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>